<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="author" content="ChenXue">
		<title>212001.xyz</title>
		<meta name="keywords"
			content="212001.xyz,212001.xyz,技术博客,个人主页,程序员,架构师,IT,BBBUG,Gitee,Github,Coding,Code,开源,开源项目">
		<meta name="description"
			content="I am a product designer, full stack developer, open source contributor from BaoDind, China and focusing on web technology and operation skill on the server side.">
		<meta name="mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="theme-color" content="#111">
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<link rel="icon" href="https://ichenc.github.io/assets/img/chen.ico">
		<meta name="format-detection" content="telephone=no">
		<meta name="viewport"
			content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no">
		<link href="./css/font.css" rel="stylesheet" />
		<link href="https://fonts.googleapis.com/css?family=Rubik:300,500,700" rel="stylesheet">
		<link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,700" rel="stylesheet">
		<style>
			html,
			body {
				padding: 0;
				margin: 0;
				background: #f4f4f4;
				cursor: url('./cursor/default.cur'), default;
			}

			* {
				font-family: "open sans", -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', sans-serif;
				user-select: none;
			}

			.bg {
				position: fixed;
				left: -5%;
				right: -5%;
				top: -5%;
				bottom: -5%;
				display: flex;
				align-items: center;
				justify-content: center;
				flex-direction: column;
				background: #f5f5f5 url(./img/background.webp) no-repeat;
				background-size: cover;
				color: white;
			}

			.title,
			.name,
			.intro {
				animation: animate 1s forwards;
				-webkit-animation: animate 1s forwards;
			}

			.name {
				animation-delay: 0.05s;
			}

			.intro {
				animation-delay: 0.1s;
				margin-bottom: 100px;
			}

			.intro .loading {
				display: inline-block;
				height: 20px;
				width: 10px;
				background-color: rgba(255, 255, 255, 0.5);
				animation: flash 1s infinite;
				-webkit-animation: flash 1s infinite;
			}

			@keyframes flash {
				0% {
					opacity: 0.5;
				}

				50% {
					opacity: 1;
				}

				100% {
					opacity: 0.5;
				}
			}

			@keyframes animate {
				0% {
					transform: translateY(20px);
					opacity: 0
				}

				100% {
					transform: translateY(0px);
					opacity: 1
				}
			}

			@-webkit-keyframes animate {
				from {
					transform: translateY(20px);
					opacity: 0
				}

				to {
					transform: translateY(0px);
					opacity: 1
				}
			}

			::-webkit-scrollbar {
				width: 0px;
				height: 0px
			}

			.main {
				position: fixed;
				left: 0px;
				right: 0px;
				top: 0px;
				bottom: 0px;
				display: flex;
				justify-content: center;
				align-items: center;
				backdrop-filter: blur(50px);
			}

			.card {
				max-width: 1200px;
				display: flex;
				justify-content: flex-start;
				flex-direction: column;
				color: #eee;
				text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.8);
				transition: transform 1s;
				position: relative;
				width: 90%;
			}

			.card .title {
				font-size: 81px;
				font-weight: bold;
				font-family: "Rubik", "open sans", -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', sans-serif;
			}

			.card .name {
				font-size: 56px;
				font-family: "Rubik", "open sans", -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', sans-serif;
			}

			.card .intro {
				margin-top: 100px;
				font-size: 32px;
				min-height: 100px;
				max-height: 300px;
				overflow: hidden;
				overflow-y: auto;
				word-wrap: break-word;
				word-break: break-all;
				white-space: pre-wrap;
			}

			.card .form input {
				border: none;
				outline: none;
				background: transparent;
				font-size: 24px;
				color: white;
				flex: 1;
				width: 0;
				height: 100%;
				font-weight: 300;
			}

			::-webkit-input-placeholder {
				color: #999;
			}

			.card .form {
				background-color: rgba(0, 0, 0, 0.2);
				backdrop-filter: blur(20px);
				padding: 15px 20px;
				border-radius: 15px;
				position: relative;
				display: flex;
				flex-direction: row;
				justify-content: center;
				align-items: center;
			}

			.card .form span {
				color: #ccc;
				font-size: 20px;
				margin-left: 10px;
				background-color: rgba(255, 255, 255, 0.03);
				border-radius: 10px;
				padding: 10px;
				transition: all .5s;
			}

			.card .form span:hover {
				background-color: rgba(255, 255, 255, 0.2);
				color: white;
			}

			@media screen and (max-width: 600px) {
				body {
					background-position: left top;
				}

				.card .title {
					font-size: 64px;
				}

				.card .name {
					font-size: 32px;
				}

				.intro {
					font-size: 20px !important;
				}

				.form input {
					font-size: 20px !important;
				}

				.form span {
					font-size: 16px !important;
					;
				}
			}

			video {
				position: absolute;
				left: 0;
				right: 0;
				top: 0;
				bottom: 0;
				width: 100%;
				height: 100%;
				object-fit: cover
			}

			[v-cloak] {
				visibility: hidden !important;
			}

			.footer {
				font-size: 12px;
				position: fixed;
				left: 5%;
				right: 5%;
				bottom: 10px;
				text-align: center;
				color: #eeeeee;
				opacity: 0.5;
			}
		</style>
		<script>
			document.addEventListener('DOMContentLoaded', function() {
				fetch('https://v1.hitokoto.cn/?c=i&c=k&c=a')
					.then(response => response.json())
					.then(data => {
						const footerText = document.querySelector('.footer');
						footerText.innerHTML += ` ${data.hitokoto}`;
					})
					.catch(error => console.error('Error fetching hitokoto:', error));
			});
		</script>
	</head>
	<body>
		<div id="app" v-cloak>
			<div class="bg">
				<video playsinline="true" webkit-playsinline="true" src="./video/bg.mp4" autoplay muted
					loop="loop"></video>
			</div>
			<audio id="music" autoplay="autoplay" loop="loop" muted="muted" src="./video/bg.mp3"></audio>
			<div class="main">
				<div class="card">
					<div class="title">Hi bro</div>
					<div class="name">My name is Chen.</div>
					<div class="intro">你好呀，朋友！</div>
					<div class="form">
						<input type="text" placeholder="想和我说点什么呢？" />
						<span>发送(Enter)</span>
					</div>
				</div>
			</div>
			<div class="footer"></div>
		</div>
		<script src="./js/vue-2.6.10.min.js"></script>
		<script src="./js/axios.min.js"></script>
		<script>
			new Vue({
				el: '#app',
				data() {
					return {
						isLoading: false,
						messages: [],
						message: "你好呀，朋友！",
						input: "",
						placeholder: "想和我说点什么呢？"
					}
				},
				created() {
					this.input = '你是做什么的';
					this.onSend(true);
				},
				mounted() {
					document.getElementById('music').volume = 0.3;
					document.getElementById('music').play();
				},
				methods: {
					async onSend(isAuto = false) {
						document.getElementById('music').volume = 0.3;
						document.getElementById('music').play();
						if (this.isLoading || !this.input) {
							return;
						}
						const inputMessage = this.input;
						if (!isAuto) {
							this.placeholder = inputMessage;
						}
						this.input = '';
						this.message = '';
						this.isLoading = true;
						this.messages.push({
							role: 'user',
							content: inputMessage
						});
						const postData = {
							messages: this.messages
						};

						try {
							// 打印发送的请求信息
							console.log("Sending request:", {
								method: "post",
								url: 'https://api.moonshot.cn/',
								headers: {
									'Content-Type': "application/json",
									'Authorization': 'Bearer sk-hFLnVscxEJ39i3aAuOvNiipcpJ9JbFdjYhdCHfur4XbMtIbn' // 替换YOUR_MOONSHOT_API_KEY为你的API密钥
								},
								body: JSON.stringify(postData)
							});

							const response = await fetch('https://api.moonshot.cn/', {
								method: 'post',
								headers: {
									'Content-Type': "application/json",
									'Authorization': 'Bearer sk-hFLnVscxEJ39i3aAuOvNiipcpJ9JbFdjYhdCHfur4XbMtIbn' // 确保替换为你的API密钥
								},
								body: JSON.stringify(postData),
							});

							const data = await response.json(); // 假设服务器返回的是JSON格式的数据

							if (response.ok) {
								this.message = data.message || "我刚才走神了, 不好意思"; // 假设服务器返回的数据中有message字段
								this.messages.push({
									role: 'assistant',
									content: this.message
								});
							} else {
								console.error('Response error:', data); // 打印响应错误
								this.message = "请求失败，请检查API密钥或联系技术支持。";
							}
						} catch (error) {
							console.error('请求出错:', error); // 打印错误信息
							this.message = "请求出错，请检查网络连接或联系技术支持。";
						} finally {
							this.isLoading = false;
						}
					},
				}
			});
		</script>

</html>